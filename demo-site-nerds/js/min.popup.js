var buttonFeedback=document.querySelector(".feedback__button"),popup=document.querySelector(".popup"),close=document.querySelector(".popup__button-close"),yourName=popup.querySelector("[name=name]"),email=popup.querySelector("[name=mail]"),form=popup.querySelector("form"),message=popup.querySelector("[name=letter]"),isStorageSupport=!0,storageName="",storageMail="";try{storageName=localStorage.getItem("name"),storageMail=localStorage.getItem("mail")}catch(e){isStorageSupport=!1}buttonFeedback.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("popup--show"),storageName&&storageMail?(yourName.value=storageName,email.value=storageMail,message.focus()):yourName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("popup--show"),popup.classList.remove("popup--error")}),form.addEventListener("submit",function(e){yourName.value&&email.value?isStorageSupport&&(localStorage.setItem("name",yourName.value),localStorage.setItem("mail",email.value)):(e.preventDefault(),popup.classList.remove("popup--error"),popup.offsetWidth,popup.classList.add("popup--error"),console.log("Нужно вести имя, фамилию и почту"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("popup--show")&&(e.preventDefault(),popup.classList.remove("popup--show"),popup.classList.remove("popup--error"))});
